(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{498:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Seo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostTypeSEO"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"metaDesc"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"opengraphImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sourceUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"twitterImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sourceUrl"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:123}};n.loc.source={body:"fragment Seo on PostTypeSEO {\n  title\n  metaDesc\n  opengraphImage {\n    sourceUrl\n  }\n  twitterImage {\n    sourceUrl\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function o(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,t)})),e.definitions&&e.definitions.forEach((function(e){o(e,t)}))}var r={};function l(e,t){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==t)return element}}n.definitions.forEach((function(e){if(e.name){var t=new Set;o(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.Seo=function(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=r[t]||new Set,c=new Set,d=new Set;for(o.forEach((function(e){d.add(e)}));d.size>0;){var m=d;d=new Set,m.forEach((function(e){c.has(e)||(c.add(e),(r[e]||new Set).forEach((function(e){d.add(e)})))}))}return c.forEach((function(t){var o=l(e,t);o&&n.definitions.push(o)})),n}(n,"Seo")},587:function(e,t,n){},708:function(e,t,n){"use strict";var o=n(6),r=n(709),l=n(23),c=n(46),d=n(45),m=n(167);o({target:"Array",proto:!0},{flatMap:function(e){var t,n=c(this),o=d(n);return l(e),(t=m(n,0)).length=r(t,n,n,o,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},709:function(e,t,n){"use strict";var o=n(7),r=n(141),l=n(45),c=n(37),d=o.TypeError,m=function(e,t,source,n,o,h,f,v){for(var element,k,y=o,w=0,S=!!f&&c(f,v);w<n;){if(w in source){if(element=S?S(source[w],w,t):source[w],h>0&&r(element))k=l(element),y=m(e,t,element,k,y,h-1)-1;else{if(y>=9007199254740991)throw d("Exceed the acceptable array length");e[y]=element}y++}w++}return y};e.exports=m},710:function(e,t,n){n(140)("flatMap")},711:function(e,t,n){var o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Team"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locale"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LanguageCodeFilterEnum"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"tLocale"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LanguageCodeEnum"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"language"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}},{kind:"ObjectField",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"seo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Seo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"translation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"language"},value:{kind:"Variable",name:{kind:"Name",value:"tLocale"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"language"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"team"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nomDuPoste"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"personnes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"photo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Image"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"birthDay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"birthMonth"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:706}};o.loc.source={body:'#import "../fragments/seo.graphql"\n#import "../fragments/image.graphql"\n\nquery Team(\n  $uri: String!\n  $locale: LanguageCodeFilterEnum!\n  $tLocale: LanguageCodeEnum!\n) {\n  pages(where: { language: $locale, name: $uri }) {\n    edges {\n      node {\n        title\n        seo {\n          ...Seo\n        }\n        translation(language: $tLocale) {\n          slug\n          language {\n            slug\n          }\n        }\n        team {\n          paragraphe\n          postes {\n            nomDuPoste\n            personnes {\n              nom\n              photo {\n                ...Image\n              }\n              birthDay\n              birthMonth\n            }\n          }\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function l(defs){return defs.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}function c(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){c(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){c(e,t)})),e.definitions&&e.definitions.forEach((function(e){c(e,t)}))}o.definitions=o.definitions.concat(l(n(498).definitions)),o.definitions=o.definitions.concat(l(n(332).definitions));var d={};function m(e,t){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==t)return element}}o.definitions.forEach((function(e){if(e.name){var t=new Set;c(e,t),d[e.name.value]=t}})),e.exports=o,e.exports.Team=function(e,t){var n={kind:e.kind,definitions:[m(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=d[t]||new Set,r=new Set,l=new Set;for(o.forEach((function(e){l.add(e)}));l.size>0;){var c=l;l=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(d[e]||new Set).forEach((function(e){l.add(e)})))}))}return r.forEach((function(t){var o=m(e,t);o&&n.definitions.push(o)})),n}(o,"Team")},712:function(e,t,n){"use strict";n(587)},771:function(e,t,n){"use strict";n.r(t);var o=n(15),r=(n(59),n(16),n(26),n(43),n(708),n(710),n(48),n(90),n(57),n(86),n(33),n(5)),l=n(711),c=n.n(l),d=n(204),m=n(79),h=n(54),f={nuxtI18n:{paths:{fr:"/equipe/",en:"/people/"}},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.app.i18n.locale,t.next=3,e.$query(e.app.$axios,c.a,{uri:"fr"===n?"equipe":"people",locale:n.toUpperCase(),tLocale:"fr"===n?"EN":"FR"});case 3:return o=t.sent,(r=o.pages.edges[0].node).team.postes.forEach((function(e,t){e.personnes.forEach((function(p,e){p.id="".concat(t,"-").concat(e)}))})),t.abrupt("return",{page:r});case 7:case"end":return t.stop()}}),t)})))()},data:function(){return{activeProfile:{},mobileProfile:void 0,isMobile:!0}},head:function(){return Object(d.a)(this.page.seo)},computed:{people:function(){var e=this;return this.page.team.postes.flatMap((function(t,n){return t.personnes.map((function(p,o){return{nom:p.nom,photo:p.photo,birthday:p.birthday,id:"".concat(n,"-").concat(o),job:t.nomDuPoste,thumbnail:e.getPic(p.photo,"medium_large")}}))}))}},beforeMount:function(){this.$store.commit("ui/SET_THEME","dark")},mounted:function(){this.isParty=!1,this.hasBirthday=!1,this.init(),this.testBirthday(),this.hasBirthday&&this.initCanvas()},beforeDestroy:function(){r.a.ticker.remove(this.animate),r.a.ticker.remove(this.animateMobile),clearTimeout(this.to),clearTimeout(this.isWheeling),window.removeEventListener("wheel",this.onWheel),this.isParty&&this.$nuxt.$off("WINDOW:RESIZE",this.onResize)},methods:{init:function(){var e=this;Object(m.a)()?(this.isTouching=!1,r.a.to(".credits",{opacity:1,duration:.5,delay:1})):(this.elmt=this.$refs.credits,this.deltaY=this.posX=this.inten=0,this.ySet=r.a.quickSetter(this.elmt,"y","px"),this.height=this.elmt.clientHeight,this.acceleration=1,window.addEventListener("wheel",this.onWheel),r.a.to(".credits",{opacity:1,duration:.5,delay:1,onComplete:function(){r.a.ticker.add(e.animate)}}))},testBirthday:function(){var e=this,t=new Date,n=t.getDate(),o=t.getMonth()+1;this.page.team.postes.forEach((function(t){t.personnes.forEach((function(p){p.birthDay&&p.birthMonth&&p.birthDay===n&&p.birthMonth===o&&(e.hasBirthday=!0,p.birthday=!0)}))})),this.$forceUpdate()},initCanvas:function(){this.canvas=document.createElement("canvas"),this.$el.appendChild(this.canvas),this.onResize(),this.$nuxt.$on("WINDOW:RESIZE",this.onResize),this.colors=[{front:"red",back:"darkred"},{front:"green",back:"darkgreen"},{front:"blue",back:"darkblue"},{front:"yellow",back:"darkyellow"},{front:"orange",back:"darkorange"},{front:"pink",back:"darkpink"},{front:"purple",back:"darkpurple"},{front:"turquoise",back:"darkturquoise"}],this.confettisCount=300,this.gravity=.8,this.terminalVelocity=20,this.drag=.075},initConfettis:function(){this.isParty=!0,this.confettis=[];for(var i=0;i<this.confettisCount;i++)this.confettis.push({color:this.colors[Object(h.d)(0,this.colors.length-1)],dimensions:{x:Object(h.d)(10,40),y:Object(h.d)(10,30)},position:{x:Object(h.d)(0,this.wW),y:this.wH-1},rotation:Object(h.d)(0,2*Math.PI),scale:{x:1,y:1},velocity:{x:Object(h.d)(-25,25),y:Object(h.d)(-5,-50)}});r.a.ticker.add(this.render)},render:function(){var e=this;this.context.clearRect(0,0,this.wW*this.dpr,this.wH*this.dpr),this.confettis.forEach((function(t,n){e.context.scale(e.dpr,e.dpr);var o=t.dimensions.x*t.scale.x,r=t.dimensions.y*t.scale.y;e.context.translate(t.position.x,t.position.y),e.context.rotate(t.rotation),t.velocity.x-=t.velocity.x*e.drag,t.velocity.y=Math.min(t.velocity.y+e.gravity,e.terminalVelocity),t.velocity.x+=Math.random()>.5?Math.random():-Math.random(),t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.position.y>=e.wH+2*r&&e.confettis.splice(n,1),t.scale.y=Math.cos(.1*t.position.y),e.context.fillStyle=t.scale.y>0?t.color.front:t.color.back,e.context.fillRect(-o/2,-r/2,o,r),e.context.setTransform(1,0,0,1,0,0)})),this.confettis.length||(r.a.ticker.remove(this.render),this.isParty=!1,this.context.clearRect(0,0,this.wW*this.dpr,this.wH*this.dpr))},onResize:function(){this.dpr=Object(h.a)(window.devicePixelRatio,1,2),this.context=this.canvas.getContext("2d"),this.wW=window.innerWidth,this.wH=window.innerHeight,this.canvas.width=this.wW*this.dpr,this.canvas.height=this.wH*this.dpr,this.canvas.style.width="".concat(Math.ceil(this.wW),"px"),this.canvas.style.height="".concat(Math.ceil(this.wH),"px"),this.context.scale(this.dpr,this.dpr)},onWheel:function(e){var t=this;this.deltaY=e.deltaY,window.clearTimeout(this.isWheeling),this.isWheeling=setTimeout((function(){t.deltaY=0}),66)},pause:function(){var e=this,progress={acceleration:this.acceleration};r.a.to(progress,{acceleration:0,onUpdate:function(){e.acceleration=progress.acceleration},duration:.8,ease:"power2.inOut"}),this.isTouching=!0},updateProfil:function(e){Object(m.a)()||(this.isMobile=!1,this.activeProfile=e,e.birthday&&!this.isParty&&this.initConfettis())},updateProfil2:function(e){var t=this;if(Object(m.a)()){this.$store.commit("ui/LOCK_SCROLL"),this.isMobile=!0,this.activeProfile=e,this.mobileProfile=e;var n=this.$refs.mobileItems.find((function(i){return i.dataset.id===e.id}));this.$refs.credits.classList.add("-hidden"),this.$refs.closeCatMob.classList.add("on"),this.$refs.fondFlou.classList.add("pointer"),this.$refs.mobileList.classList.remove("-snap"),e.birthday&&!this.isParty&&this.initConfettis(),this.$nextTick((function(){n.scrollIntoView(),t.tween=r.a.to(t.$refs.mobileList,{scrollLeft:"+=60",duration:.5,ease:"power3.inOut",yoyo:!0,repeat:1,delay:.5,onComplete:function(){t.$refs.mobileList.classList.add("-snap")}})}))}},hideProfil:function(){Object(m.a)()||(this.activeProfile={})},hideProfil2:function(){var e=this;this.$store.commit("ui/UNLOCK_SCROLL"),this.activeProfile={},this.mobileProfile=void 0,this.$refs.closeCatMob.classList.remove("on"),this.$refs.fondFlou.classList.remove("pointer"),r.a.delayedCall(1,(function(){e.$refs.credits.classList.remove("-hidden")}))},play:function(){var e=this,progress={acceleration:this.acceleration};r.a.to(progress,{acceleration:1,onUpdate:function(){e.acceleration=progress.acceleration},duration:.8,ease:"power2.inOut"}),this.isTouching=!1},animate:function(time,dt){var e=1-Math.pow(.9,dt);this.ySet(this.posX),this.inten+=(this.deltaY/2-this.inten)*e,this.posX-=(dt*this.acceleration+6*this.inten)/12,this.posX>0&&(this.posX=-this.height/2),this.posX<-this.height/2&&(this.posX=this.posX+this.height/2)},animateMobile:function(time,dt){!this.isTouching&&window.scrollY<document.documentElement.scrollHeight-document.documentElement.clientHeight&&window.scrollTo(0,window.scrollY+.1*dt)},getPic:function(p,e){return p.mediaDetails.sizes.find((function(s){return s.name===e}))},onMobileListScroll:function(e){clearTimeout(this.to),this.to=setTimeout(this.setIndex,100)},setIndex:function(){var e,t,n=this,o=Math.floor(this.$refs.mobileList.scrollLeft/window.innerWidth),r=!1;null!==(e=this.activeProfile)&&void 0!==e&&e.id&&(this.page.team.postes.every((function(e,t){return e.personnes.every((function(p,e){return t+e!==o||(n.activeProfile=p,r=!0,!1)})),!r})),console.log(this.activeProfile,this.isParty),null!==(t=this.activeProfile)&&void 0!==t&&t.birthday&&!this.isParty&&this.initConfettis())}}},v=(n(712),n(18)),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"equipe"},[n("h1",{staticClass:"sr-only"},[e._v(e._s(e.$t("menu.team")))]),e._v(" "),n("p",{staticClass:"desc mono tUp flex flexFE a"},[e._v(e._s(e.page.team.paragraphe))]),e._v(" "),n("div",{ref:"fondFlou",staticClass:"fondFlou f"},[n("div",e._l(e.people,(function(p){return n("img",{directives:[{name:"show",rawName:"v-show",value:e.activeProfile.id===p.id,expression:"activeProfile.id === p.id"}],key:"bgImg-"+p.id,staticClass:"a imgFond",attrs:{src:e.getPic(p.photo,"custom-lazy").sourceUrl,alt:""}})})),0)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isMobile&&e.activeProfile.nom,expression:"!isMobile && activeProfile.nom"}],staticClass:"profil a"},[n("div",{staticClass:"vignette vignetteEquipe r"},[e.activeProfile.thumbnail?n("img",{staticClass:"pic a",attrs:{src:e.activeProfile.thumbnail.sourceUrl,alt:""}}):e._e()]),e._v(" "),n("div",{staticClass:"nom"},[e._v(e._s(e.activeProfile.nom))]),e._v(" "),n("div",{staticClass:"infos tUp mono"},[n("p",{staticClass:"poste"},[e._v(e._s(e.activeProfile.job))])])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.mobileProfile,expression:"mobileProfile"}],staticClass:"modal"},[n("ul",{ref:"mobileList",on:{scroll:e.onMobileListScroll}},[e._l(e.page.team.postes,(function(t,o){return e._l(t.personnes,(function(p,r){return n("li",{key:"teamm-"+o+"-"+r,ref:"mobileItems",refInFor:!0,attrs:{"data-id":o+"-"+r,"data-index":o+r}},[n("div",{staticClass:"profil a"},[n("div",{staticClass:"vignette vignetteEquipe r"},[p.photo?n("img",{staticClass:"pic a",attrs:{src:e.getPic(p.photo,"medium_large").sourceUrl,alt:"",loading:"lazy",decoding:"async"}}):e._e()]),e._v(" "),n("div",{staticClass:"nom",class:{birthday:p.birthday},domProps:{textContent:e._s(p.nom)}}),e._v(" "),n("div",{staticClass:"infos tUp mono"},[n("p",{staticClass:"poste"},[e._v(e._s(t.nomDuPoste))])])])])}))}))],2)]),e._v(" "),n("div",{staticClass:"wrap r"},[n("div",{ref:"credits",staticClass:"credits",on:{mouseenter:e.pause,mouseleave:e.play}},[e._l(e.page.team.postes,(function(t,o){return n("div",{key:"team-1-"+o,staticClass:"flex flexSB"},[n("div",{staticClass:"gauche"},[e._v(e._s(t.nomDuPoste))]),e._v(" "),n("ul",{staticClass:"droite"},e._l(t.personnes,(function(p,r){return n("li",{key:"team-1-"+o+"-"+r,class:{birthday:p.birthday},domProps:{textContent:e._s(p.nom)},on:{mouseenter:function(n){e.updateProfil(Object.assign({},p,{id:o+"-"+r,job:t.nomDuPoste,thumbnail:e.getPic(p.photo,"medium_large")}))},mouseleave:e.hideProfil,click:function(n){e.updateProfil2(Object.assign({},p,{id:o+"-"+r,job:t.nomDuPoste,thumbnail:e.getPic(p.photo,"medium_large")}))}}})})),0)])})),e._v(" "),e._l(e.page.team.postes,(function(t,o){return n("div",{key:"team-2-"+o,staticClass:"flex flexSB team2"},[n("div",{staticClass:"gauche"},[e._v(e._s(t.nomDuPoste))]),e._v(" "),n("ul",{staticClass:"droite"},e._l(t.personnes,(function(p,r){return n("li",{key:"team-2-"+o+"-"+r,class:{birthday:p.birthday},domProps:{textContent:e._s(p.nom)},on:{mouseenter:function(n){e.updateProfil(Object.assign({},p,{id:o+"-"+r,job:t.nomDuPoste,thumbnail:e.getPic(p.photo,"medium_large")}))},mouseleave:e.hideProfil,click:function(n){e.updateProfil2(Object.assign({},p,{id:o+"-"+r,job:t.nomDuPoste,thumbnail:e.getPic(p.photo,"medium_large")}))}}})})),0)])}))],2)]),e._v(" "),n("button",{ref:"closeCatMob",staticClass:"closeCatMob f flex flexCE",on:{click:e.hideProfil2}},[n("svg",{attrs:{fill:"none",height:"25",viewBox:"0 0 25 25",width:"25",xmlns:"http://www.w3.org/2000/svg"}},[n("g",{attrs:{stroke:"#121212","stroke-linecap":"round","stroke-width":"1.25"}},[n("path",{attrs:{d:"m1.5 23.3019 21.8025-21.80245"}}),e._v(" "),n("path",{attrs:{d:"m23.5328 23.269-21.80249-21.80241"}})])])])])}),[],!1,null,"cb7a21bc",null);t.default=component.exports}}]);